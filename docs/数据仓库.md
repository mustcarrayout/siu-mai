- Data warehouse（可简写为DW或者DWH）数据仓库，是在数据库已经大量存在的情况下，它是一整套包括了etl、调度、建模在内的完整的理论体系。
- 目的：数据仓库的方案建设的目的，是为前端查询和分析作为基础，主要应用于OLAP（on-line Analytical Processing），支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。目前行业比较流行的有：AWS Redshift，Greenplum，Hive等。
- 数据仓库并不是数据的**最终目的地**，而是为数据最终的目的地做好准备，这些准备包含：清洗、转义、分类、重组、合并、拆分、统计等
	- 为了解决我们可能面临的问题，需要一套行之有效的数据组织、管理和处理方法，来让我们的数据体系更加有序，这就是数据分层。**数据分层**的好处：
	- 1. 清晰数据结构：让每个数据层都有自己的作用和职责，在使用和维护的时候能够更方便和理解
	  2. 复杂问题简化：将一个复杂的任务拆解成多个步骤来分步骤完成，每个层只解决特定的问题
	  3. 统一数据口径：通过数据分层，提供统一的数据出口，统一输出口径
	  4. 减少重复开发：规范数据分层，开发通用的中间层，可以极大地减少重复计算的工作
	- 常见的数据分层
		- 数据运营层ODS(Operation Data Store 数据准备区)，也称为贴源层。数据源中的数据，经过抽取、洗净、传输，也就是ETL过程之后进入本层。
			- 1. 格式化的数据
			  2. 尽可能保证原数据的初始状态方便**溯源**
			  3. 格式千奇百怪
		- 数据仓库层
			- 数据仓库层从上到下，又可以分为3个层
				- 数据细节层DWD(data warehouse details)
					- 1. 保持和ODS层一样的数据颗粒度
					  2. ODS数据层做一些数据的清洗和规范化的操作，比如去除空数据、脏数据、离群值等
					  3. 为了提高数据明细层的易用性，该层通常会才采用一些维度退化方法，将维度退化至**事实表**中，减少事实表和维表的关联。
				- 数据中间层DWM(Data Warehouse Middle)
					- 1. 在DWD层的数据基础上，对数据做一些轻微的聚合操作，生成一些列的中间结果表，提升公共指标的复用性，减少重复加工的工作。简答来说，对通用的核心维度进行聚合操作，算出相应的统计指标
					  2. 核心维度的基本聚类计算
				- 数据服务层DWS(Data Warehouse Service)
					- 1. 基于DWM上的基础数据，整合汇总成分析某一个主题域的数据服务层，一般是宽表，用于提供后续的业务查询，OLAP分析，数据分发等
					  2. 数据尽可能冗余（冗余就会有数据同步问题-> **数据版本** ）
					  3. 表的数量减少了，但是表的宽度或者列变得很长
		- 数据服务层
			- 提供给数据产品和数据分析使用的数据，一般会存放在ES、Redis、PostgreSql等系统中供线上系统使用；也可能存放在hive或者Druid中，供数据分析和数据挖掘使用，比如常用的**数据报表**就是存在这里的
		- **事实表**是指存储有事实记录的表，比如系统日志、销售记录等。事实表的记录在不断地增长，比如电商的商品订单表，就是类似的情况，所以事实表的体积通常是远大于其他表。
		- **维度表**（Dimension Table）或维表，有时也称查找表（Lookup Table），是与事实表相对应的一种表；它保存了维度的属性值，可以跟事实表做关联，相当于将事实表上经常重复出现的**属性抽取**、规范出来用一张表进行管理。维度表主要是包含两个部分：
			- 高基数维度数据：一般是用户资料表、商品资料表类似的资料表，数据量可能是千万级或者上亿级别
			- 低基数维度数据：一般是配置表（字典表），比如枚举字段对应的中文含义，或者日期维表等；数据量可能就是个位数或者几千几万。